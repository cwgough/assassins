{"ast":null,"code":"import _slicedToArray from\"C:/Users/cwill/Documents/Assassins/frontend/assassins/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams,useNavigate}from'react-router-dom';import axios from'axios';import'../App.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Display=function Display(){var params=useParams();var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),player=_useState2[0],setPlayer=_useState2[1];useEffect(function(){axios.post('http://localhost:8000/survive',{name:params.name}).then(function(res){setPlayer({name:res.data[0].name,target:res.data[0].target,assassin:res.data[0].assassin,alive:res.data[0].alive,winner:res.data[0].winner});}).catch(function(err,res){res.send(\"Error: \".concat(err));});},[params]);var killTarget=function killTarget(){axios.patch('http://localhost:8000/survive/kill',{name:player.target}).then(function(res){setPlayer({name:res.data[0].name,target:res.data[0].target,assassin:res.data[0].assassin,alive:res.data[0].alive,winner:res.data[0].winner});navigate(\"/\".concat(params.name));}).catch(function(err,res){res.send(\"Error: \".concat(err));});};var displayText=function displayText(){if(params.name!==player.target){return\"Target: \".concat(player.target);}else{return\"Congratulations, \".concat(params.name,\"! You are the final survivor.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"TargetDisplay\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"displayText\",children:[\" \",displayText(),\" \"]})}),/*#__PURE__*/_jsx(\"br\",{}),player.winner===false?/*#__PURE__*/_jsx(\"button\",{className:\"KillButton\",onClick:killTarget,children:/*#__PURE__*/_jsxs(\"h1\",{className:\"displayText\",children:[\" \",\"Confirm kill\",\" \"]})}):null]});};export default Display;","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","axios","Display","params","navigate","player","setPlayer","post","name","then","res","data","target","assassin","alive","winner","catch","err","send","killTarget","patch","displayText"],"sources":["C:/Users/cwill/Documents/Assassins/frontend/assassins/src/components/targetDisplay.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams, useNavigate } from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport '../App.css'\r\n\r\nconst Display = () => {\r\n  const params = useParams()\r\n  const navigate = useNavigate()\r\n\r\n  const [player, setPlayer] = useState({})\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .post('http://localhost:8000/survive', { name: params.name })\r\n      .then((res) => {\r\n        setPlayer({\r\n          name: res.data[0].name,\r\n          target: res.data[0].target,\r\n          assassin: res.data[0].assassin,\r\n          alive: res.data[0].alive,\r\n          winner: res.data[0].winner\r\n        })\r\n      })\r\n      .catch((err, res) => {\r\n        res.send(`Error: ${err}`)\r\n      })\r\n  }, [params])\r\n\r\n  const killTarget = () => {\r\n    axios\r\n      .patch('http://localhost:8000/survive/kill', { name: player.target })\r\n      .then((res) => {\r\n        setPlayer({\r\n          name: res.data[0].name,\r\n          target: res.data[0].target,\r\n          assassin: res.data[0].assassin,\r\n          alive: res.data[0].alive,\r\n          winner: res.data[0].winner\r\n        })\r\n        navigate(`/${params.name}`)\r\n      })\r\n      .catch((err, res) => {\r\n        res.send(`Error: ${err}`)\r\n      })\r\n  }\r\n\r\n  const displayText = () => {\r\n    if (params.name !== player.target) {\r\n      return `Target: ${player.target}`\r\n    } else {\r\n      return `Congratulations, ${params.name}! You are the final survivor.`\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='TargetDisplay'>\r\n      <div >\r\n        <h1 className='displayText' > {displayText()} </h1>\r\n      </div>\r\n\r\n      <br></br>\r\n\r\n      {(player.winner === false) ? (\r\n        <button className='KillButton' onClick={killTarget}>\r\n          <h1 className='displayText'> {\"Confirm kill\"} </h1>\r\n        </button>\r\n      ) : null\r\n      }\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Display;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}